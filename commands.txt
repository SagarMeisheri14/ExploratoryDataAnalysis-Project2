NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
str(NEI)
unique(NEI$type)
unique(NEI$year)
typ = unique(NEI$type)
yrs = unique(NEI$year)
NEI$year = factor(NEI$year,levels=yrs)
NEI$type = factor(NEI$type,levels=typ)
str(NEI)
scc = unique(NEI$SCC)
head(scc)
NEI$SCC = factor(NEI$SCC,levels=scc)
length(scc)
fp = unique(NEI$fips)
length(fp)
NEI$fips = factor(NEI$fips,levels=fp)
str(NEI)

total = aggregate(Emissions~year,data=NEI,FUN=sum)
barplot(total[[2]],names.arg=total[[1]],main="total PM2.5 emission (year-wise)",ylab="PM2.5 Emissions",xlab="Years",col = c("red","green","blue","gray"))
#ggplot(t,aes(year,Emissions))+geom_bar(stat="identity",fill = rainbow(n=length(t$year)))

bc = which(NEI$fips=="24510")
baltimore = NEI[bc,]
str(baltimore)
str(baltimore$fips)
head(baltimore$fips)
aggregate(Emissions~year,data=baltimore,FUN=sum)
t2 = aggregate(Emissions~year,data=baltimore,FUN=sum)
plot(t2)